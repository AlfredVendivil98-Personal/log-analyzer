# Log Analyzer (Python)

A simple and extensible **log analysis tool** written in Python.  
It parses application log files, counts log levels, detects malformed entries, extracts top error messages, and supports **JSON** or **human-readable** output.

---

## üìÅ Repository Structure

```
.
‚îú‚îÄ‚îÄ log_analyzer.py      # The log analyzer script
‚îú‚îÄ‚îÄ application.log      # Sample log file with valid entries
‚îú‚îÄ‚îÄ empty_logs.log       # Sample empty/whitespace-only log file
‚îî‚îÄ‚îÄ summary.json         # Example JSON output generated by the script
```

---

## üöÄ Features

- Parses logs with this format:

  ```
  YYYY-MM-DD HH:MM:SS [LEVEL] Message text here
  ```

- Supports the following log levels:
  - `INFO`
  - `WARNING`
  - `ERROR`

- Counts:
  - Number of INFO, WARNING, ERROR lines  
  - Number of malformed log lines  
  - Top 3 most frequent error messages  

- Output modes:
  - **Human-readable text**
  - **JSON** (`--json` flag)

- Supports filtering by log level:
  - `--filter INFO`
  - `--filter WARNING`
  - `--filter ERROR`

- Compatible with shell redirection (`> summary.json`)

---

## üì¶ Requirements

- Python 3.7+
- No third-party libraries required  
  (uses only standard Python modules: `argparse`, `re`, `collections.Counter`, and `json`)

---

## üîß Usage

### **Basic Usage**

```
python3 log_analyzer.py application.log
```

### **Filter by log level**

```
python3 log_analyzer.py application.log --filter ERROR
```

### **Output JSON**

```
python3 log_analyzer.py application.log --json
```

### **Save JSON output to a file**

Use shell redirection:

```
python3 log_analyzer.py application.log --json > summary.json
```

---

## üìä Example JSON Output

The `summary.json` file in this repository is generated using:

```
python3 log_analyzer.py application.log --json > summary.json
```

Example:

```json
{
    "INFO": 12,
    "WARNING": 4,
    "ERROR": 5,
    "MALFORMED": 1,
    "Top Errors": [
        ["Connection failed.", 2],
        ["Timeout occurred.", 2],
        ["Invalid user input.", 1]
    ]
}
```

---

## ‚ö†Ô∏è Error Handling

The script will:

- Skip malformed lines
- Count malformed entries
- Raise an error if a log file is:
  - Empty  
  - Contains only whitespace  

Example:

```
ValueError: Log file is empty or could not be read.
```

---

## üß© Sample Log Files

### **application.log**
A sample log file demonstrating normal log structures (INFO, WARNING, ERROR entries).

### **empty_logs.log**
An empty/whitespace-only file used to test error handling.

---

## üõ† Extending the Tool

Ideas for future enhancements:

- Add `--top N` argument to control number of top errors
- Add colorized terminal output
- Add CSV export
- Stream large log files instead of loading into memory
- Package as a CLI tool (`pip install log-analyzer`)

---

## üìú License

MIT License ‚Äî feel free to modify and use the script in your own projects.
